define("modules/html/screen/screen.es",function(require,exports,module){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function render(){var e=level>=levelMap.length?levelMap[levelMap.length-1]:levelMap[level];level+=1;var t=Math.floor(Math.random()*e*e);list=new Array(e*e),list[t]=1;var r=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),o=Math.floor(256*Math.random()),l=r.toString(16)+n.toString(16)+o.toString(16),a=((r+rank>255?r-rank:r+rank)%255).toString(16)+((n+rank>255?n-rank:n+rank)%255).toString(16)+((o+rank>255?o-rank:o+rank)%255).toString(16);$screen.html(tpl({list:list,width:100/e+"%",color1:l,color2:a}))}function init(){render(),_zepto2["default"]("#screen").on("touchstart, click",".block",function(e){e.preventDefault();var t=_zepto2["default"](this).data("index");list[t]&&(rank=10>rank?10:rank-2,render(),_utilEventEvent.event.emit("screen/click"))}),_utilEventEvent.event.on("game/restart",function(){level=0,rank=40,render()})}Object.defineProperty(exports,"__esModule",{value:!0});var _zepto=require("components/zepto/main"),_zepto2=_interopRequireDefault(_zepto),_zeptoTouch=require("components/zepto/touch"),_zeptoTouch2=_interopRequireDefault(_zeptoTouch),_utilEventEvent=require("modules/util/event/event.es"),_utilTemplateTemplate=require("modules/util/template/template.es"),$screen=_zepto2["default"]("#screen"),tpl=function render(data){var keyArr=[],valArr=[];data=data||{},data.__encodeHTML__=window.template.__encodeHTML;for(var key in data)keyArr.push('"'+key+'"'),valArr.push(data[key]);var source="new Function("+keyArr.join(",")+', "\\"use strict\\";var __code__ = \\"\\";;__code__ += (\\"\\");for (var i = 0; i < list.length; i++) {;__code__ += (\\" <div class=\\\\\\"block\\\\\\" data-index=\\\\\\"\\");__code__ += (__encodeHTML__(typeof (i) === \\"undefined\\" ? \\"\\" : i));__code__ += (\\"\\\\\\" style=\\\\\\"width: \\");__code__ += (__encodeHTML__(typeof (width) === \\"undefined\\" ? \\"\\" : width));__code__ += (\\";\\\\\\">     <div class=\\\\\\"block-inner\\\\\\" style=\\\\\\"background-color: #\\");__code__ += (__encodeHTML__(typeof (list[i] ? color2 : color1) === \\"undefined\\" ? \\"\\" : list[i] ? color2 : color1));__code__ += (\\"\\\\\\"></div> </div> \\");};__code__ += (\\" \\");return __code__")';try{var fn=eval(source),html=fn.apply(null,valArr)}catch(e){return e.name="RenderError",e.tpl="modules/html/screen/screen.tmpl",window.template.__handelError(e),"template.js error"}return html},levelMap=[2,3,4,5,5,6,6,7,7,7,8,8,8,8,9],level=0,rank=40,list;exports.init=init});